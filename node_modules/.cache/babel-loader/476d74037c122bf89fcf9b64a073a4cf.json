{"ast":null,"code":"import React from\"react\";import\"../styles/SendMail.css\";import CloseIcon from\"@material-ui/icons/Close\";import{Button}from\"@material-ui/core\";import{useForm}from\"react-hook-form\";import{useDispatch}from\"react-redux\";import{closeSendMessage}from\"../features/mailSlice\";import{db}from\"../firebase\";import firebase from\"firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SendMail(){var dispatch=useDispatch();var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,watch=_useForm.watch,errors=_useForm.errors;var onSubmit=function onSubmit(formData){db.collection(\"emails\").add({to:formData.to,subject:formData.subject,message:formData.message,timestamp:firebase.firestore.FieldValue.serverTimestamp()});// after dispatch close the email form.\ndispatch(closeSendMessage());};return/*#__PURE__*/_jsxs(\"div\",{className:\"sendMail\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sendMail__header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"New Message \"}),/*#__PURE__*/_jsx(CloseIcon,{className:\"sendMail__close\",onClick:function onClick(){return dispatch(closeSendMessage());}})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"input\",{name:\"to\",placeholder:\"To\",type:\"email\",ref:register({required:true})}),errors.to&&/*#__PURE__*/_jsx(\"p\",{className:\"sendMail__error\",children:\" To is Required!\"}),/*#__PURE__*/_jsx(\"input\",{name:\"subject\",placeholder:\"Subject\",type:\"text\",ref:register({required:true})}),errors.subject&&/*#__PURE__*/_jsx(\"p\",{className:\"sendMail__error\",children:\"Subject is Required!\"}),/*#__PURE__*/_jsx(\"input\",{name:\"message\",placeholder:\"Message...\",type:\"text\",ref:register({required:true}),className:\"sendMail__message\"}),errors.message&&/*#__PURE__*/_jsx(\"p\",{className:\"sendMail__error\",children:\"Message is Required!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sendMail__options\",children:/*#__PURE__*/_jsx(Button,{className:\"sendMail__send\",variant:\"contained\",color:\"primary\",type:\"submit\",children:\"Send\"})})]})]});}export default SendMail;","map":{"version":3,"sources":["/Users/rakesh/Desktop/geeksforgeeks/gmail-project/src/components/SendMail.js"],"names":["React","CloseIcon","Button","useForm","useDispatch","closeSendMessage","db","firebase","SendMail","dispatch","register","handleSubmit","watch","errors","onSubmit","formData","collection","add","to","subject","message","timestamp","firestore","FieldValue","serverTimestamp","required"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,wBAAP,CACA,MAAOC,CAAAA,SAAP,KAAsB,0BAAtB,CACA,OAASC,MAAT,KAAuB,mBAAvB,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,gBAAT,KAAiC,uBAAjC,CACA,OAASC,EAAT,KAAmB,aAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,C,wFAEA,QAASC,CAAAA,QAAT,EAAoB,CAClB,GAAMC,CAAAA,QAAQ,CAAGL,WAAW,EAA5B,CADkB,aAEgCD,OAAO,EAFvC,CAEVO,QAFU,UAEVA,QAFU,CAEAC,YAFA,UAEAA,YAFA,CAEcC,KAFd,UAEcA,KAFd,CAEqBC,MAFrB,UAEqBA,MAFrB,CAIlB,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,QAAD,CAAc,CAC7BT,EAAE,CAACU,UAAH,CAAc,QAAd,EAAwBC,GAAxB,CAA4B,CAC1BC,EAAE,CAAEH,QAAQ,CAACG,EADa,CAE1BC,OAAO,CAAEJ,QAAQ,CAACI,OAFQ,CAG1BC,OAAO,CAAEL,QAAQ,CAACK,OAHQ,CAI1BC,SAAS,CAAEd,QAAQ,CAACe,SAAT,CAAmBC,UAAnB,CAA8BC,eAA9B,EAJe,CAA5B,EAOA;AACAf,QAAQ,CAACJ,gBAAgB,EAAjB,CAAR,CACD,CAVD,CAYA,mBACE,aAAK,SAAS,CAAC,UAAf,wBACE,aAAK,SAAS,CAAC,kBAAf,wBACE,oCADF,cAEE,KAAC,SAAD,EACE,SAAS,CAAC,iBADZ,CAEE,OAAO,CAAE,yBAAMI,CAAAA,QAAQ,CAACJ,gBAAgB,EAAjB,CAAd,EAFX,EAFF,GADF,cAQE,cAAM,QAAQ,CAAEM,YAAY,CAACG,QAAD,CAA5B,wBACE,cACE,IAAI,CAAC,IADP,CAEE,WAAW,CAAC,IAFd,CAGE,IAAI,CAAC,OAHP,CAIE,GAAG,CAAEJ,QAAQ,CAAC,CAAEe,QAAQ,CAAE,IAAZ,CAAD,CAJf,EADF,CAOGZ,MAAM,CAACK,EAAP,eAAa,UAAG,SAAS,CAAC,iBAAb,8BAPhB,cASE,cACE,IAAI,CAAC,SADP,CAEE,WAAW,CAAC,SAFd,CAGE,IAAI,CAAC,MAHP,CAIE,GAAG,CAAER,QAAQ,CAAC,CAAEe,QAAQ,CAAE,IAAZ,CAAD,CAJf,EATF,CAeGZ,MAAM,CAACM,OAAP,eACC,UAAG,SAAS,CAAC,iBAAb,kCAhBJ,cAmBE,cACE,IAAI,CAAC,SADP,CAEE,WAAW,CAAC,YAFd,CAGE,IAAI,CAAC,MAHP,CAIE,GAAG,CAAET,QAAQ,CAAC,CAAEe,QAAQ,CAAE,IAAZ,CAAD,CAJf,CAKE,SAAS,CAAC,mBALZ,EAnBF,CA0BGZ,MAAM,CAACO,OAAP,eACC,UAAG,SAAS,CAAC,iBAAb,kCA3BJ,cA8BE,YAAK,SAAS,CAAC,mBAAf,uBACE,KAAC,MAAD,EACE,SAAS,CAAC,gBADZ,CAEE,OAAO,CAAC,WAFV,CAGE,KAAK,CAAC,SAHR,CAIE,IAAI,CAAC,QAJP,kBADF,EA9BF,GARF,GADF,CAoDD,CAED,cAAeZ,CAAAA,QAAf","sourcesContent":["import React from \"react\";\nimport \"../styles/SendMail.css\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { Button } from \"@material-ui/core\";\nimport { useForm } from \"react-hook-form\";\nimport { useDispatch } from \"react-redux\";\nimport { closeSendMessage } from \"../features/mailSlice\";\nimport { db } from \"../firebase\";\nimport firebase from \"firebase\";\n\nfunction SendMail() {\n  const dispatch = useDispatch();\n  const { register, handleSubmit, watch, errors } = useForm();\n\n  const onSubmit = (formData) => {\n    db.collection(\"emails\").add({\n      to: formData.to,\n      subject: formData.subject,\n      message: formData.message,\n      timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n    });\n\n    // after dispatch close the email form.\n    dispatch(closeSendMessage());\n  };\n\n  return (\n    <div className=\"sendMail\">\n      <div className=\"sendMail__header\">\n        <h3>New Message </h3>\n        <CloseIcon\n          className=\"sendMail__close\"\n          onClick={() => dispatch(closeSendMessage())}\n        />\n      </div>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <input\n          name=\"to\"\n          placeholder=\"To\"\n          type=\"email\"\n          ref={register({ required: true })}\n        />\n        {errors.to && <p className=\"sendMail__error\"> To is Required!</p>}\n\n        <input\n          name=\"subject\"\n          placeholder=\"Subject\"\n          type=\"text\"\n          ref={register({ required: true })}\n        />\n        {errors.subject && (\n          <p className=\"sendMail__error\">Subject is Required!</p>\n        )}\n\n        <input\n          name=\"message\"\n          placeholder=\"Message...\"\n          type=\"text\"\n          ref={register({ required: true })}\n          className=\"sendMail__message\"\n        />\n        {errors.message && (\n          <p className=\"sendMail__error\">Message is Required!</p>\n        )}\n\n        <div className=\"sendMail__options\">\n          <Button\n            className=\"sendMail__send\"\n            variant=\"contained\"\n            color=\"primary\"\n            type=\"submit\"\n          >\n            Send\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default SendMail;\n"]},"metadata":{},"sourceType":"module"}