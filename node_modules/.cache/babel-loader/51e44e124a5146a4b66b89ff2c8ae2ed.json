{"ast":null,"code":"import _slicedToArray from\"/Users/rakesh/Desktop/geeksforgeeks/gmail-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Checkbox,IconButton}from\"@material-ui/core\";import React,{useEffect,useState}from\"react\";import\"../styles/EmailList.css\";import ArrowDropDownIcon from\"@material-ui/icons/ArrowDropDown\";import RedoIcon from\"@material-ui/icons/Redo\";import MoreVertIcon from\"@material-ui/icons/MoreVert\";import ChevronLeftIcon from\"@material-ui/icons/ChevronLeft\";import ChevronRightIcon from\"@material-ui/icons/ChevronRight\";import KeyboardHideIcon from\"@material-ui/icons/KeyboardHide\";import SettingsIcon from\"@material-ui/icons/Settings\";import Section from\"../components/Section\";import InboxIcon from\"@material-ui/icons/Inbox\";import PeopleIcon from\"@material-ui/icons/People\";import LocalOfferIcon from\"@material-ui/icons/LocalOffer\";import EmailRow from\"./EmailRow\";import{db}from\"../firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EmailList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),emails=_useState2[0],setEmails=_useState2[1];useEffect(function(){db.collection(\"emails\").orderBy(\"timestamp\",\"desc\").onSnapshot(function(snapshot){return setEmails(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"emailList\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"emailList__settings\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"emailList__settingsLeft\",children:[/*#__PURE__*/_jsx(Checkbox,{}),/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(ArrowDropDownIcon,{})}),/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(RedoIcon,{})}),/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(MoreVertIcon,{})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"emailList__settingsRight\",children:[/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(ChevronLeftIcon,{})}),/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(ChevronRightIcon,{})}),/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(KeyboardHideIcon,{})}),/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(SettingsIcon,{})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"emailList__sections\",children:[/*#__PURE__*/_jsx(Section,{Icon:InboxIcon,title:\"Primary\",color:\"red\",selected:true}),/*#__PURE__*/_jsx(Section,{Icon:PeopleIcon,title:\"Social\",color:\"#1A73E8\"}),/*#__PURE__*/_jsx(Section,{Icon:LocalOfferIcon,title:\"Promotions\",color:\"green\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"emailList__list\",children:emails.map(function(_ref){var id=_ref.id,_ref$data=_ref.data,to=_ref$data.to,subject=_ref$data.subject,message=_ref$data.message,timestamp=_ref$data.timestamp;return/*#__PURE__*/_jsx(EmailRow,{id:id,title:to,subject:subject,description:message,time:new Date((timestamp===null||timestamp===void 0?void 0:timestamp.seconds)*1000).toUTCString()},id);})})]});}export default EmailList;","map":{"version":3,"sources":["/Users/rakesh/Desktop/geeksforgeeks/gmail-project/src/components/EmailList.js"],"names":["Checkbox","IconButton","React","useEffect","useState","ArrowDropDownIcon","RedoIcon","MoreVertIcon","ChevronLeftIcon","ChevronRightIcon","KeyboardHideIcon","SettingsIcon","Section","InboxIcon","PeopleIcon","LocalOfferIcon","EmailRow","db","EmailList","emails","setEmails","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","data","to","subject","message","timestamp","Date","seconds","toUTCString"],"mappings":"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","sourcesContent":["import { Checkbox, IconButton } from \"@material-ui/core\";\nimport React, { useEffect, useState } from \"react\";\nimport \"../styles/EmailList.css\";\nimport ArrowDropDownIcon from \"@material-ui/icons/ArrowDropDown\";\nimport RedoIcon from \"@material-ui/icons/Redo\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport KeyboardHideIcon from \"@material-ui/icons/KeyboardHide\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport Section from \"../components/Section\";\nimport InboxIcon from \"@material-ui/icons/Inbox\";\nimport PeopleIcon from \"@material-ui/icons/People\";\nimport LocalOfferIcon from \"@material-ui/icons/LocalOffer\";\nimport EmailRow from \"./EmailRow\";\nimport { db } from \"../firebase\";\n\nfunction EmailList() {\n  const [emails, setEmails] = useState([]);\n\n  useEffect(() => {\n    db.collection(\"emails\")\n      .orderBy(\"timestamp\", \"desc\")\n      .onSnapshot((snapshot) =>\n        setEmails(\n          snapshot.docs.map((doc) => ({\n            id: doc.id,\n            data: doc.data(),\n          }))\n        )\n      );\n  }, []);\n\n  return (\n    <div className=\"emailList\">\n      <div className=\"emailList__settings\">\n        <div className=\"emailList__settingsLeft\">\n          <Checkbox />\n          <IconButton>\n            <ArrowDropDownIcon />\n          </IconButton>\n          <IconButton>\n            <RedoIcon />\n          </IconButton>\n          <IconButton>\n            <MoreVertIcon />\n          </IconButton>\n        </div>\n        <div className=\"emailList__settingsRight\">\n          <IconButton>\n            <ChevronLeftIcon />\n          </IconButton>\n          <IconButton>\n            <ChevronRightIcon />\n          </IconButton>\n          <IconButton>\n            <KeyboardHideIcon />\n          </IconButton>\n          <IconButton>\n            <SettingsIcon />\n          </IconButton>\n        </div>\n      </div>\n      <div className=\"emailList__sections\">\n        <Section Icon={InboxIcon} title=\"Primary\" color=\"red\" selected />\n        <Section Icon={PeopleIcon} title=\"Social\" color=\"#1A73E8\" />\n        <Section Icon={LocalOfferIcon} title=\"Promotions\" color=\"green\" />\n      </div>\n      <div className=\"emailList__list\">\n        {/*here we are destructuring the email data from : \n        email.map(email => console.log(email)); to\n        email.map(email => console.log({id, data})); // destructuring\n        email.map(email => console.log({id, data: {to, subject, message, timestamp }})); //deep destructuring */}\n        {emails.map(({ id, data: { to, subject, message, timestamp } }) => (\n          <EmailRow\n            id={id}\n            key={id}\n            title={to}\n            subject={subject}\n            description={message}\n            time={new Date(timestamp?.seconds * 1000).toUTCString()}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default EmailList;\n"]},"metadata":{},"sourceType":"module"}